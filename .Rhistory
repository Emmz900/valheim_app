runApp('shiny_app_scripts')
food_stats
runApp('shiny_app_scripts')
food_stats %>% filter(!is.na(values))
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
food_stats
food_stats
food_ingredients
food_stats %>%
full_join(food_ingredients, by = recipe)
food_stats %>%
full_join(food_ingredients, by = "recipe")
library(tidyverse)
library(here)
food_ingredients <- read_csv(here("raw_data/food_ingredients.csv"))
food_stats <- read_csv(here("raw_data/food_stats.csv")) %>%
mutate(zone = factor(zone, levels = c("meadows", "black forest", "swamp", "ocean", "mountains", "plains", "mistlands"))) %>%
pivot_longer(health:duration, names_to = "stat", values_to = "values")
ingredients_list <- sort(unique(food_ingredients$ingredients))
biome_list <- unique(food_stats$zone)
food_stats %>%
full_join(food_ingredients, by = "recipe")
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
?cat
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
shiny::runApp('shiny_app_scripts')
shiny::runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
weapons_joined
runApp('shiny_app_scripts')
weapons_data_clean
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
weapons_data_clean
weapons_crafting_clean
runApp('shiny_app_scripts')
shiny::runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
?append
runApp('shiny_app_scripts')
?arrange
runApp('shiny_app_scripts')
?list
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
choices <- weapon_filter_options["Material"]
choices
choices <- remove("All", weapon_filter_options["Material"])
choices <- weapon_filter_options["Material"]
remove("All", choices)
choices
choices <- weapon_filter_options["Material"]
remove("All", choices)
choices
choices <- weapon_filter_options["Material"]
choices
choices <- weapon_filter_options["Material"]
choices <- remove("All", choices)
choices
choices <- rm("All", choices)
choices <- weapon_filter_options["Material"]
choices <- rm("All", choices)
choices <- weapon_filter_options["Material"]
choices <- choices - "All"
choices <- weapon_filter_options["Material"]
typeof(choices)
choices <- weapon_filter_options["Material"]
choices <- choices[1:]
choices[1]
choices[1][1]
choices$1
choices$"All"
choices[[1]]
choices[[1]][[1]]
choices[[1]][[2:]]
hoices[[1]][[2:10]]
choices[[1]][[2:10]]
remove(choices[[1]][[1]], choices[[1]])
remove("All", choices[[1]])
choices[[1]][[-1]]
choices <- weapon_filter_options["Material"]
shiny::runApp('shiny_app_scripts')
choices <- weapon_filter_options["Material"]
choices[[1]][[-1]]
choices[[1]][-1]
weapon_filter_options["Material"][-1]
weapon_filter_options[["Material"]][-1]
weapon_filter_options[["Material"]][-1]
runApp('shiny_app_scripts')
shiny::runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
weapons_joined
weapons_crafting_clean
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
shiny::runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
shiny::runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
shiny::runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
library(tidyverse)
library(readxl)
crafting_data <- read_xlsx("raw_data/crafting.xlsx")
weapon_data <- read_xlsx("raw_data/crafting.xlsx", sheet = 2)
weapon_data
weapon_data %>% filter(Type == "2 Handed Club")
weapon_data %>% filter(str_detect(Type, "Club")
)
source("~/Games/Valheim/valheim_app/cleaning_and_test_scripts/cleaning_crafting.R", echo=TRUE)
shiny::runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
weapons_data_clean
weapons_data_clean %>%
filter(name == "Battleaxe")
weapon_data
weapon_data_split
source("~/Games/Valheim/valheim_app/cleaning_and_test_scripts/cleaning_crafting.R", echo=TRUE)
runApp('shiny_app_scripts')
library(tidyverse)
library(janitor)
library(bslib)
library(plotly)
library(here)
# FUNCTIONS --------------------
source(here("function_scripts/filter_weapons.R"))
source(here("function_scripts/plot_weapon_stats.R"))
source(here("function_scripts/filter_food.R"))
source(here("function_scripts/plot_food.R"))
# WEAPONS -------------
weapons_crafting_clean <- read_csv(here("clean_data/weapons_crafting.csv"))
weapons_data_clean <- read_csv(here("clean_data/weapon_data.csv"))
weapons_crafting_clean
weapons_data_clean
?rename
source("~/Games/Valheim/valheim_app/cleaning_and_test_scripts/cleaning_crafting.R", echo=TRUE)
source("~/Games/Valheim/valheim_app/cleaning_and_test_scripts/cleaning_crafting.R", echo=TRUE)
weapons_crafting_clean <- read_csv(here("clean_data/weapons_crafting.csv"))
weapons_data_clean <- read_csv(here("clean_data/weapon_data.csv"))
weapons_data_clean
View(crafting_data_clean)
source("~/Games/Valheim/valheim_app/cleaning_and_test_scripts/cleaning_crafting.R", echo=TRUE)
shiny::runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
weapons_data_clean
source("~/Games/Valheim/valheim_app/cleaning_and_test_scripts/cleaning_crafting.R", echo=TRUE)
library(tidyverse)
library(janitor)
library(bslib)
library(plotly)
library(here)
# FUNCTIONS --------------------
source(here("function_scripts/filter_weapons.R"))
source(here("function_scripts/plot_weapon_stats.R"))
source(here("function_scripts/filter_food.R"))
source(here("function_scripts/plot_food.R"))
# WEAPONS -------------
weapons_data_clean <- read_csv(here("clean_data/weapon_data.csv"))
weapon_types <- weapons_data_clean %>%
filter(type != "Upgrade") %>%
distinct(type) %>%
arrange(type) %>%
pull()
weapon_materials <- sort(unique(weapons_data_clean$material))
weapon_damage_types <- weapons_data_clean %>%
mutate(damage_type = str_extract(damage_type, "^[A-Z][a-z]+")) %>%
distinct(damage_type) %>%
pull() %>%
sort()
weapon_filter_options <- list(
"Damage Type" = weapon_damage_types,
"Material" = weapon_materials,
"Weapon Type" = weapon_types
)
weapons_list <- sort(unique(weapons_data_clean$item))
weapons_data_clean
weapons_data_clean <- read_csv(here("clean_data/weapon_data.csv"))
weapons_data_clean
source("~/Games/Valheim/valheim_app/cleaning_and_test_scripts/cleaning_crafting.R", echo=TRUE)
weapons_joined
write_csv(weapons_joined, "clean_data/weapon_data.csv")
# WEAPONS -------------
weapons_data_clean <- read_csv(here("clean_data/weapon_data.csv"))
weapons_data_clean
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
library(tidyverse)
library(here)
armour <- readxl::read_excel(here("raw_data/armour.xlsx"))
armour
armour %>%
pivot_longer(resistant:other, names_to = attribute, values_to = value)
armour %>%
pivot_longer(resistant:other, names_to = "attribute", values_to = "value")
armour <- clean_names(read_excel(here("raw_data/armour.xlsx")))
library(tidyverse)
library(here)
library(readxl)
library(janitor)
armour <- clean_names(read_excel(here("raw_data/armour.xlsx")))
armour
armour %>%
filter(upgrade_level == 1)
armour %>%
filter(upgrade_level == 1) %>%
select(item, armor, weight)
sets <- clean_names(read_excel(here("raw_data/armour.xlsx"), sheet = 2))
sets
armour %>%
distinct(set)
armour <- clean_names(read_excel(here("raw_data/armour.xlsx")))
sets <- clean_names(read_excel(here("raw_data/armour.xlsx"), sheet = 2))
armour %>%
distinct(set)
sets
armour
armour <- clean_names(read_excel(here("raw_data/armour.xlsx")))
sets <- clean_names(read_excel(here("raw_data/armour.xlsx"), sheet = 2))
all_items <- clean_names(read_excel(here("raw_data/all_crafting.xlsx")))
all_items
types <- all_items %>%
select(item, type)
armour %>%
left_join(types)
all_items %>%
select(item, type) %>%
filter(type != "upgrade")
all_items %>%
select(item, type) %>%
filter(type != "upgrade") %>%
distinct()
types <- all_items %>%
select(item, type) %>%
filter(type != "upgrade") %>%
distinct()
armour %>%
left_join(types)
types <- all_items %>%
select(item, type) %>%
filter(type != "upgrade") %>%
distinct()
armour_type <- armour %>%
left_join(types)
armour_type %>%
filter(type == "cape" & upgrade_level == 1)
armour_type %>%
filter(type == "cape" & upgrade_level == 1) %>%
select(item, armor, weight, speed, resistant, weak)
shiny::runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
source("C:/Users/emmaj/Documents/Games/Valheim/valheim_app/cleaning_and_test_scripts/cleaning_armor.R", echo=TRUE)
armor %>%
left_join(types) %>%
left_join(sets)
source("C:/Users/emmaj/Documents/Games/Valheim/valheim_app/cleaning_and_test_scripts/cleaning_armor.R", echo=TRUE)
source("C:/Users/emmaj/Documents/Games/Valheim/valheim_app/cleaning_and_test_scripts/cleaning_armor.R", echo=TRUE)
armour <- clean_names(read_xlsx(here("raw_data/armour.xlsx")))
sets <- clean_names(read_xlsx(here("raw_data/armour.xlsx", sheet = 2)))
armour <- clean_names(read_xlsx(here("raw_data/armour.xlsx")))
sets <- clean_names(read_xlsx(here("raw_data/armour.xlsx"), sheet = 2))
all_items <- clean_names(read_xlsx(here("raw_data/all_crafting.xlsx")))
source("C:/Users/emmaj/Documents/Games/Valheim/valheim_app/cleaning_and_test_scripts/cleaning_armor.R", echo=TRUE)
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
types <- all_items %>%
select(item, type) %>%
filter(type != "upgrade") %>%
distinct()
armour_type <- armour %>%
left_join(types)
armour_type %>%
filter(type == "cape" & upgrade_level == 1) %>%
select(item, armor, weight, speed, resistant, weak)
runApp('shiny_app_scripts')
armor %>%
left_join(types, relationship = "many-to-many") %>%
left_join(sets, relationship = "many-to-many") %>%
mutate(across(where(is.numeric), ~ str_to_title(.x)))
armor %>%
left_join(types, relationship = "many-to-many") %>%
left_join(sets, relationship = "many-to-many") %>%
mutate(across(where(is.character), ~ str_to_title(.x)))
?clean_names
clean_names(read_xlsx("raw_data/armour.xlsx"), case = title)
clean_names(read_xlsx("raw_data/armour.xlsx"), case = "title")
source("C:/Users/emmaj/Documents/Games/Valheim/valheim_app/cleaning_and_test_scripts/cleaning_armor.R", echo=TRUE)
runApp('shiny_app_scripts')
armor
runApp('shiny_app_scripts')
library(tidyverse)
library(here)
library(readxl)
library(janitor)
armor <- read_csv(here("clean_data/armor_data.csv"))
armor
armor %>%
filter(Type == "Chest" & "Upgrade Level" == 1) %>%
select(Item, Armor, Weight, Speed, Resistant, Weak)
armor %>%
filter(Type == "Chest") %>%
select(Item, Armor, Weight, Speed, Resistant, Weak)
armor %>%
filter(Type == "Chest" & 'Upgrade Level' == 1) %>%
select(Item, Armor, Weight, Speed, Resistant, Weak)
names(armor)
armor %>%
filter(Type == "Chest" & "Upgrade Level" == 1) %>%
select(Item, Armor, Weight, Speed, Resistant, Weak)
armor %>%
select("Upgrade Level")
armor %>%
rename("Upgrade Level" = "upgrade_level")
armor %>%
rename("upgrade_level" = "Upgrade Level")
armor %>%
rename("upgrade_level" = "Upgrade Level") %>%
filter(Type == "Chest" & upgrade_level == 1) %>%
select(Item, Armor, Weight, Speed, Resistant, Weak)
runApp('shiny_app_scripts')
armour <- clean_names(read_xlsx(here("raw_data/armour.xlsx")))
sets <- clean_names(read_xlsx(here("raw_data/armour.xlsx"), sheet = 2))
all_items <- clean_names(read_xlsx(here("raw_data/all_crafting.xlsx")))
all_items
all_items %>%
semi_join(armor)
armor %>%
rename("upgrade_level" = "Upgrade Level") %>%
filter(Type == "Chest" & upgrade_level == 1) %>%
select(Item, Armor, Weight, Speed, Resistant, Weak)
armor %>%
clean_names() %>%
mutate(across(where(is.character), ~ str_to_lower(.x)))
all_items %>%
semi_join(armor)
all_items %>%
semi_join(armor, join_by(item))
all_items
armor
armor %>%
clean_names() %>%
mutate(across(where(is.character), ~ str_to_lower(.x)))
armor <- armor %>%
clean_names() %>%
mutate(across(where(is.character), ~ str_to_lower(.x)))
all_items %>%
semi_join(armor, join_by(item))
armor <- armor %>%
clean_names() %>%
mutate(across(where(is.character), ~ str_to_lower(.x)))
crafting_armor <- all_items %>%
semi_join(armor, join_by(item))
crafting_armor
crafting_armor %>%
pivot_wider(names_from = crafting_station, values_from = crafting_station_level)
crafting_armor %>%
pivot_wider(names_from = crafting_station, values_from = crafting_station_level) %>%
clean_names()
armor %>%
clean_names() %>%
mutate(across(where(is.character), ~ str_to_lower(.x)))
armor <- armor %>%
clean_names() %>%
mutate(across(where(is.character), ~ str_to_lower(.x)))
crafting_armor <- all_items %>%
semi_join(armor, join_by(item)) %>%
mutate(across(where(is.character), ~ str_to_lower(.x)))
crafting_armor %>%
pivot_wider(names_from = crafting_station, values_from = crafting_station_level) %>%
clean_names()
crafting_armor %>%
pivot_wider(names_from = crafting_station, values_from = crafting_station_level) %>%
clean_names() %>%
filter(is.na(workbench) | workbench >= 1)
crafting_armor %>%
pivot_wider(names_from = crafting_station, values_from = crafting_station_level) %>%
clean_names() %>%
filter(is.na(workbench) | workbench <= 3)
crafting_armor %>%
pivot_wider(names_from = crafting_station, values_from = crafting_station_level) %>%
clean_names() %>%
filter(is.na(workbench) | workbench <= 6) %>%
filter(is.na(forge) | forge <= 7) %>%
filter(is.na(galdr_table) | galdr_table <= 0) %>%
filter(is.na(black_forge) | blackforge <= 0)
crafting_armor %>%
pivot_wider(names_from = crafting_station, values_from = crafting_station_level) %>%
clean_names() %>%
filter(is.na(workbench) | workbench <= 6) %>%
filter(is.na(forge) | forge <= 7) %>%
filter(is.na(galdr_table) | galdr_table <= 0) %>%
filter(is.na(black_forge) | black_forge <= 0)
source("C:/Users/emmaj/Documents/Games/Valheim/valheim_app/cleaning_and_test_scripts/cleaning_armor.R", echo=TRUE)
source("C:/Users/emmaj/Documents/Games/Valheim/valheim_app/cleaning_and_test_scripts/cleaning_armor.R", echo=TRUE)
source("C:/Users/emmaj/Documents/Games/Valheim/valheim_app/cleaning_and_test_scripts/cleaning_armor.R", echo=TRUE)
library(tidyverse)
library(janitor)
armor <- clean_names(read_xlsx("raw_data/armour.xlsx"))
sets <- clean_names(read_xlsx("raw_data/armour.xlsx", sheet = 2))
all_items <- clean_names(read_xlsx("raw_data/all_crafting.xlsx"))
## Find object types
types <- all_items %>%
select(item, type) %>%
filter(type != "upgrade") %>%
distinct()
## label armour as head/chest/cape/legs
armor_type <- armor %>%
left_join(types, relationship = "many-to-many") %>%
left_join(sets, relationship = "many-to-many") %>%
mutate(across(where(is.character), ~ str_to_title(.x)))
armor_type <- armor_type %>%
clean_names(case = "title")
write_csv(armor_type, "clean_data/armor_data.csv")
armor_clean <- armor %>%
clean_names() %>%
mutate(across(where(is.character), ~ str_to_lower(.x)))
all_items %>%
semi_join(armor_clean, join_by(item))
all_items %>%
semi_join(armor_clean, join_by(item)) %>%
mutate(across(where(is.character), ~ str_to_lower(.x)))
pivot_wider(names_from = crafting_station, values_from = crafting_station_level)
all_items %>% names()
all_items %>%
semi_join(armor_clean, join_by(item)) %>%
mutate(across(where(is.character), ~ str_to_lower(.x)))
pivot_wider(names_from = "crafting_station", values_from = "crafting_station_level")
source("C:/Users/emmaj/Documents/Games/Valheim/valheim_app/cleaning_and_test_scripts/cleaning_armor.R", echo=TRUE)
armor_crafting
armor_crafting <- read_csv(here("clean_data/armor_crafting.csv"))
armor_crafting
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
armor_crafting %>%
filter(is.na(workbench) | workbench <= 6) %>%
filter(is.na(forge) | forge <= 7) %>%
filter(is.na(galdr_table) | galdr_table <= 0) %>%
filter(is.na(black_forge) | black_forge <= 0) %>%
distinct(item)
source("C:/Users/emmaj/Documents/Games/Valheim/valheim_app/cleaning_and_test_scripts/cleaning_armor.R", echo=TRUE)
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
runApp('shiny_app_scripts')
shiny::runApp('shiny_app_scripts')
